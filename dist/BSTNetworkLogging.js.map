{"version":3,"sources":["../src/BSTNetworkLogging.ts"],"names":["pingEventType","networkInfoEventType","BSTNetworkLoggingModule","NativeModules","eventEmitter","NativeEventEmitter","registerPingListener","listener","addListener","registerNetworkInfoListener","startPingAsync","domainName","params","options","stopPingAsync","hasTelephonyFeatureAsync","startNetworkLoggingAsync","stopNetworkLoggingAsync","getPhoneInfoAsync","requestPermissionsAsync","initializeAsync","feedLocationAsync","location"],"mappings":"2vBAAA,yCAEA,GAAMA,CAAAA,aAAa,CAAG,WAAtB,CACA,GAAMC,CAAAA,oBAAoB,CAAG,mBAA7B,CAEA,GAAMC,CAAAA,uBAAuB,CAAGC,2BAAcD,uBAA9C,CACA,GAAME,CAAAA,YAAY,CAAG,GAAIC,gCAAJ,CAAuBH,uBAAvB,CAArB,CAyGO,QAASI,CAAAA,oBAAT,CAA8BC,QAA9B,CAAwF,CAC7F,MAAOH,CAAAA,YAAY,CAACI,WAAb,CAAyBR,aAAzB,CAAwCO,QAAxC,CAAP,CACD,CAEM,QAASE,CAAAA,2BAAT,CAAqCF,QAArC,CAAsG,CAC3G,MAAOH,CAAAA,YAAY,CAACI,WAAb,CAAyBP,oBAAzB,CAA+CM,QAA/C,CAAP,CACD,CAEM,QAAeG,CAAAA,cAAf,CACLC,UADK,CAELC,MAFK,CAGLC,OAHK,6KAKCX,uBAAuB,CAACQ,cAAxB,CAAuCC,UAAvC,CAAmDC,MAAnD,CAA2DC,OAA3D,CALD,gDAQA,QAAeC,CAAAA,aAAf,iLACCZ,uBAAuB,CAACY,aAAxB,EADD,iDAIA,QAAeC,CAAAA,wBAAf,4LACQb,uBAAuB,CAACa,wBAAxB,EADR,yGAIA,QAAeC,CAAAA,wBAAf,4LACQd,uBAAuB,CAACc,wBAAxB,EADR,yGAIA,QAAeC,CAAAA,uBAAf,2LACQf,uBAAuB,CAACe,uBAAxB,EADR,yGAIA,QAAeC,CAAAA,iBAAf,qLACQhB,uBAAuB,CAACgB,iBAAxB,EADR,yGAIA,QAAeC,CAAAA,uBAAf,CAAuCN,OAAvC,0LACQX,uBAAuB,CAACiB,uBAAxB,CAAgDN,OAAhD,CADR,yGAIA,QAAeO,CAAAA,eAAf,mLACClB,uBAAuB,CAACkB,eAAxB,EADD,iDAIA,QAAeC,CAAAA,iBAAf,CAAiCC,QAAjC,oLACCpB,uBAAuB,CAACmB,iBAAxB,CAA0CC,QAA1C,CADD","sourcesContent":["import {NativeModules, NativeEventEmitter, EmitterSubscription} from 'react-native';\n\nconst pingEventType = '@BST/PING';\nconst networkInfoEventType = '@BST/NETWORK_INFO';\n\nconst BSTNetworkLoggingModule = NativeModules.BSTNetworkLoggingModule;\nconst eventEmitter = new NativeEventEmitter(BSTNetworkLoggingModule);\n\nexport type PingEvents = 'ICMP_PACKET' | 'STATISTIC' | 'SUMMARY' | 'UNKNOWN';\nexport type AllEvents = PingEvents | ('E_RUNTIME_EXCEPTION' | 'E_INVALID_PARAM');\n\nexport type ICMPPacket = {\n  icmpSeq: number;\n  ttl: number;\n  time: number;\n};\n\nexport type PingStatistic = {\n  min: number;\n  avg: number;\n  max: number;\n  mdev: number;\n};\n\nexport type PingSummary = {\n  transmitted: number;\n  received: number;\n  lostPercentage: number;\n};\n\nexport type PingEvent = {\n  type: AllEvents;\n  raw?: string;\n  icmpPacket?: ICMPPacket;\n  statistic?: PingStatistic;\n  summary?: PingSummary;\n};\n\nexport type CellIdentityLte = {\n  bands: number[];\n  bandwidth: number;\n  ci: number;\n  earfcn: number;\n  mccString: string;\n  mncString: string;\n  pci: number;\n  tac: number;\n};\n\nexport type CellSignalStrengthLte = {\n  cqi: number;\n  rsrp: number;\n  rsrq: number;\n  rssi: number;\n  rssnr: number;\n  timingAdvance: number;\n};\n\nexport type CellInfoLte = {\n  cellIdentity: CellIdentityLte;\n  cellSignalStrength: CellSignalStrengthLte;\n};\n\nexport type CellIdentityNr = {\n  mccString: string;\n  mncString: string;\n  nci: number;\n  nrarfcn: number;\n  pci: number;\n  tac: number;\n};\n\nexport type CellSignalStrengthNr = {\n  csiRsrp: number;\n  csiRsrq: number;\n  csiSinr: number;\n  ssRsrp: number;\n  ssRsrq: number;\n  ssSinr: number;\n};\n\nexport type CellInfoNr = {\n  cellIdentity: CellIdentityNr;\n  cellSignalStrength: CellSignalStrengthNr;\n};\n\nexport type NetworkInfoEvent = {\n  lte: CellInfoLte[];\n  nr: CellInfoNr[];\n};\n\nexport type PhoneInfo = {\n  imsi: String;\n  imei: String;\n  model: String;\n};\n\nexport type RequestPermissionOptions = {\n  requestPermission: boolean;\n};\n\nexport type PingParams = {\n  durationSeconds?: number;\n  reportIntervalSeconds?: number;\n};\n\nexport type Coordination = {\n  latitude: number;\n  longitude: number;\n};\n\nexport function registerPingListener(listener: (event: PingEvent) => any): EmitterSubscription {\n  return eventEmitter.addListener(pingEventType, listener);\n}\n\nexport function registerNetworkInfoListener(listener: (event: NetworkInfoEvent) => any): EmitterSubscription {\n  return eventEmitter.addListener(networkInfoEventType, listener);\n}\n\nexport async function startPingAsync(\n  domainName: string,\n  params?: PingParams,\n  options?: {[name: string]: string},\n): Promise<void> {\n  await BSTNetworkLoggingModule.startPingAsync(domainName, params, options);\n}\n\nexport async function stopPingAsync(): Promise<void> {\n  await BSTNetworkLoggingModule.stopPingAsync();\n}\n\nexport async function hasTelephonyFeatureAsync(): Promise<boolean> {\n  return await BSTNetworkLoggingModule.hasTelephonyFeatureAsync();\n}\n\nexport async function startNetworkLoggingAsync(): Promise<string> {\n  return await BSTNetworkLoggingModule.startNetworkLoggingAsync();\n}\n\nexport async function stopNetworkLoggingAsync(): Promise<void> {\n  return await BSTNetworkLoggingModule.stopNetworkLoggingAsync();\n}\n\nexport async function getPhoneInfoAsync(): Promise<PhoneInfo> {\n  return await BSTNetworkLoggingModule.getPhoneInfoAsync();\n}\n\nexport async function requestPermissionsAsync(options?: RequestPermissionOptions): Promise<boolean> {\n  return await BSTNetworkLoggingModule.requestPermissionsAsync(options);\n}\n\nexport async function initializeAsync(): Promise<void> {\n  await BSTNetworkLoggingModule.initializeAsync();\n}\n\nexport async function feedLocationAsync(location: Coordination): Promise<void> {\n  await BSTNetworkLoggingModule.feedLocationAsync(location);\n}\n"],"file":"BSTNetworkLogging.js"}